<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TÃ¼rkiye'nin Enerji ve Ä°klim Siyaseti: Nitel Veri Analizi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* YalnÄ±zca grafik kapsayÄ±cÄ±larÄ± ve zaruri Ã¶zel stiller iÃ§in gÃ¶mÃ¼lÃ¼ CSS */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Slate-50 - NÃ¶tr ve sakin arka plan */
            color: #1e293b;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 450px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Kod kartlarÄ± iÃ§in hover efektleri */
        .code-card {
            transition: all 0.2s ease;
        }
        .code-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
    <!-- Chosen Palette: NÃ¶tr Kurumsal (Slate background, Indigo/Blue for neutral categories, Green for climate-positive codes, Red/Orange for fossil/barrier codes, Gray for structural codes) -->
    <!-- Application Structure Plan: 
         1. Metodolojik GiriÅŸ: KullanÄ±cÄ±ya yeni kodlama mantÄ±ÄŸÄ±nÄ± aÃ§Ä±klar.
         2. Ä°nteraktif Kod KitabÄ±: KullanÄ±cÄ±nÄ±n talebi olan "nÃ¶tr kategori ve zÄ±t/paralel kodlar" yapÄ±sÄ±nÄ± hiyerarÅŸik olarak gÃ¶sterir.
         3. GÃ¶rsel Analiz (Dashboard): KodlarÄ±n eÄŸilimlerine gÃ¶re daÄŸÄ±lÄ±mÄ±nÄ± Chart.js ile gÃ¶rselleÅŸtirir.
         4. SÃ¶ylem (AlÄ±ntÄ±) EÅŸleÅŸmeleri: Verilen mÃ¼lakat metinlerinin yeni kodlara nasÄ±l oturduÄŸunu gÃ¶sterir. 
         Neden Bu YapÄ±: Nitel veri analizinde tez/makale yazÄ±m sÃ¼recini simÃ¼le eder. AraÅŸtÄ±rmacÄ± Ã¶nce ÅŸablonu (codebook) gÃ¶rÃ¼r, sonra frekanslarÄ± (chart), en son da kanÄ±tlarÄ± (quotes) inceler. -->
    <!-- Visualization & Content Choices:
         - HiyerarÅŸik Kart YapÄ±sÄ± (HTML/Tailwind): NÃ¶tr kategoriler altÄ±ndaki zÄ±t kodlarÄ± yan yana gÃ¶stermek iÃ§in. GeliÅŸmiÅŸ CSS Grid ile kod zÄ±tlÄ±klarÄ± vurgulanÄ±r.
         - Doughnut Chart (Chart.js): Kategorilerin aÄŸÄ±rlÄ±klarÄ±nÄ± gÃ¶stermek iÃ§in (YÃ¼zde/Frekans - SVG KULLANILMADI).
         - Bar Chart (Chart.js): Her kategorideki zÄ±t eÄŸilimlerin (Ä°klim odaklÄ± vs Geleneksel/Fosil) kÄ±yaslanmasÄ± iÃ§in. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased h-screen flex overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-slate-900 text-white flex flex-col h-full shadow-xl z-20 flex-shrink-0">
        <div class="p-6 border-b border-slate-700">
            <h1 class="text-xl font-bold tracking-tight text-slate-100">Nitel Analiz<span class="text-indigo-400">Paneli</span></h1>
            <p class="text-xs text-slate-400 mt-2">Enerji & Ä°klim Siyaseti AraÅŸtÄ±rmasÄ±</p>
        </div>
        <nav class="flex-1 overflow-y-auto py-4">
            <ul class="space-y-1 px-3">
                <li>
                    <button onclick="switchTab('tab-yapi')" class="nav-btn w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left text-sm font-medium transition-colors bg-indigo-600 text-white" data-target="tab-yapi">
                        <span class="text-lg">ğŸ“Š</span> Yeni Kod Åablonu
                    </button>
                </li>
                <li>
                    <button onclick="switchTab('tab-dashboard')" class="nav-btn w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left text-sm font-medium transition-colors text-slate-300 hover:bg-slate-800 hover:text-white" data-target="tab-dashboard">
                        <span class="text-lg">ğŸ“ˆ</span> EÄŸilim Analizleri
                    </button>
                </li>
                <li>
                    <button onclick="switchTab('tab-alintilar')" class="nav-btn w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left text-sm font-medium transition-colors text-slate-300 hover:bg-slate-800 hover:text-white" data-target="tab-alintilar">
                        <span class="text-lg">ğŸ’¬</span> MÃ¼lakat KanÄ±tlarÄ±
                    </button>
                </li>
                <li>
                    <button onclick="switchTab('tab-metodoloji')" class="nav-btn w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left text-sm font-medium transition-colors text-slate-300 hover:bg-slate-800 hover:text-white" data-target="tab-metodoloji">
                        <span class="text-lg">ğŸ“Œ</span> Metodolojik Not
                    </button>
                </li>
            </ul>
        </nav>
        <div class="p-4 border-t border-slate-800 text-xs text-slate-500">
            MAXQDA Uyumlu Kodlama Ã‡erÃ§evesi
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 h-full overflow-y-auto bg-slate-50 relative">
        
        <!-- Header -->
        <header class="bg-white border-b border-slate-200 px-8 py-5 sticky top-0 z-10 flex justify-between items-center">
            <div>
                <h2 class="text-2xl font-bold text-slate-800" id="page-title">Revize EdilmiÅŸ NÃ¶tr Kodlama Åablonu</h2>
                <p class="text-sm text-slate-500 mt-1">Kategoriler nÃ¶trleÅŸtirildi ve altlarÄ±na hem zÄ±t hem paralel kodlar eklendi (Min. 4 kod/kategori).</p>
            </div>
            <div class="flex gap-2">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800">Ä°klim OdaklÄ± Veriler</span>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-rose-100 text-rose-800">Geleneksel/Fosil Veriler</span>
            </div>
        </header>

        <div class="p-8 max-w-7xl mx-auto">
            
            <!-- TAB 1: YENÄ° KOD ÅABLONU (INTERACTIVE CODEBOOK) -->
            <section id="tab-yapi" class="tab-content active">
                <div class="mb-6 bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r-lg">
                    <h3 class="text-indigo-800 font-semibold mb-1">Åablonun MantÄ±ÄŸÄ±:</h3>
                    <p class="text-sm text-indigo-700">Dikkat ederseniz artÄ±k "Ä°klim engeldir" diye bir kategori yok. Kategori adÄ±: <strong>"Ä°klim DeÄŸiÅŸikliÄŸinin Ã‡erÃ§eveleniÅŸi"</strong> (NÃ¶tr). Bu ÅŸemsiyenin altÄ±nda, gÃ¶rÃ¼ÅŸmecilerin zÄ±t fikirleri (engel gÃ¶renler vs. fÄ±rsat gÃ¶renler) alt kodlar olarak Ã§arpÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸtÄ±r. Bu yapÄ± tezinizde tartÄ±ÅŸma (discussion) yazmanÄ±zÄ± Ã§ok kolaylaÅŸtÄ±rÄ±r.</p>
                </div>

                <!-- Themes Container (Rendered via JS) -->
                <div id="themes-container" class="space-y-8">
                    <!-- Dinamik olarak JS tarafÄ±ndan doldurulacak -->
                </div>
            </section>

            <!-- TAB 2: EÄÄ°LÄ°M ANALÄ°ZLERÄ° (DASHBOARD) -->
            <section id="tab-dashboard" class="tab-content">
                <div class="mb-6 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h3 class="text-lg font-bold text-slate-800 mb-2">SÃ¶ylem DaÄŸÄ±lÄ±mÄ±: ZÄ±tlÄ±klarÄ±n Analizi</h3>
                    <p class="text-sm text-slate-600 mb-6">Bu grafikler, revize edilen nÃ¶tr kategoriler altÄ±ndaki kodlarÄ±n "EÄŸilim" (Stance) aÄŸÄ±rlÄ±klarÄ±nÄ± gÃ¶stermektedir. Verilerinizdeki zÄ±t gÃ¶rÃ¼ÅŸlerin frekans analizini temsil eder.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Chart 1: Genel EÄŸilim DaÄŸÄ±lÄ±mÄ± -->
                        <div class="bg-slate-50 p-4 rounded-lg border border-slate-100">
                            <h4 class="text-center font-medium text-slate-700 mb-4">KodlarÄ±n Genel YÃ¶nelimi</h4>
                            <div class="chart-container h-[300px]">
                                <canvas id="doughnutChart"></canvas>
                            </div>
                        </div>

                        <!-- Chart 2: Kategorilere GÃ¶re ZÄ±tlÄ±klar -->
                        <div class="bg-slate-50 p-4 rounded-lg border border-slate-100">
                            <h4 class="text-center font-medium text-slate-700 mb-4">Kategorilerdeki "Ä°klim vs Geleneksel" Ã‡atÄ±ÅŸmasÄ±</h4>
                            <div class="chart-container h-[300px]">
                                <canvas id="barChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TAB 3: MÃœLAKAT KANITLARI (QUOTES) -->
            <section id="tab-alintilar" class="tab-content">
                <div class="mb-6">
                    <p class="text-slate-600">AraÅŸtÄ±rma verilerinizden (mÃ¼lakat dÃ¶kÃ¼mlerinizden) Ã§ekilen alÄ±ntÄ±larÄ±n yeni nÃ¶tr kategorilere ve zÄ±t kodlara nasÄ±l entegre edildiÄŸini aÅŸaÄŸÄ±dan inceleyebilirsiniz.</p>
                </div>

                <div class="space-y-4">
                    <!-- AlÄ±ntÄ± 1 -->
                    <div class="bg-white p-5 rounded-lg shadow-sm border border-l-4 border-l-indigo-500 border-slate-200">
                        <div class="flex justify-between items-start mb-2">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded text-xs font-semibold bg-indigo-100 text-indigo-800">Tema 2: Karar Alma SÃ¼reÃ§leri ve YÃ¶netiÅŸim</span>
                            <span class="text-xs font-bold text-slate-400">KatÄ±lÄ±mcÄ±: Hazal HanÄ±m</span>
                        </div>
                        <div class="text-sm font-medium text-slate-800 mb-3">NÃ¶tr Kategori: Kurumsal YapÄ± ve Koordinasyon &nbsp;&gt;&nbsp; <span class="text-slate-500 font-normal">Kod: Mevzuat DeÄŸiÅŸikliklerinin YarattÄ±ÄŸÄ± Ä°stikrarsÄ±zlÄ±k</span></div>
                        <blockquote class="italic text-slate-600 border-l-2 border-slate-300 pl-4 py-1 mb-3">
                            "...mevzuatlarÄ±n, yÃ¶netmeliklerin sÃ¼rekli deÄŸiÅŸmesi gibi zorluklar, hem yatÄ±rÄ±mcÄ±nÄ±n hem de bu konuda bir ÅŸeyler yapmaya Ã§alÄ±ÅŸan yerel yÃ¶netimlerin karÅŸÄ±sÄ±na Ã§Ä±kÄ±yor... BÃ¼tÃ¼n kurumlarÄ±n aynÄ± doÄŸrultuda hareket etmeye ihtiyacÄ± var. Birinin baÅŸka kafayla, baÅŸka vizyonla bir ÅŸey sÃ¶ylemesi deÄŸil..."
                        </blockquote>
                    </div>

                    <!-- AlÄ±ntÄ± 2 -->
                    <div class="bg-white p-5 rounded-lg shadow-sm border border-l-4 border-l-rose-500 border-slate-200">
                        <div class="flex justify-between items-start mb-2">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded text-xs font-semibold bg-rose-100 text-rose-800">Tema 1: Siyasetin Ã–ncelikleri</span>
                            <span class="text-xs font-bold text-slate-400">KatÄ±lÄ±mcÄ±: Cem (TÃœSÄ°AD Ã¶rneÄŸi)</span>
                        </div>
                        <div class="text-sm font-medium text-slate-800 mb-3">NÃ¶tr Kategori: Ä°klim DeÄŸiÅŸikliÄŸinin Ã‡erÃ§eveleniÅŸi &nbsp;&gt;&nbsp; <span class="text-slate-500 font-normal">Kod: DÄ±ÅŸ KaynaklÄ± YaptÄ±rÄ±m/Risk OdaÄŸÄ± Olarak Ä°klim</span></div>
                        <blockquote class="italic text-slate-600 border-l-2 border-slate-300 pl-4 py-1 mb-3">
                            "...iÅŸ dÃ¼nyasÄ± tarafÄ±nda iklim deÄŸiÅŸikliÄŸi 'Ä°ÅŸte baÅŸÄ±mÄ±za geliyor, dÄ±ÅŸarÄ±dan bu konuda bize yaptÄ±rÄ±mlar gelecek' diyerek enerji siyasetini ona gÃ¶re konuÅŸuyorlar. AslÄ±nda Ã§evresel kaygÄ±dan ziyade gelecekteki riskler, ekonomik riskler ve faydalar baÄŸlamÄ±nda konuÅŸuyorlar."
                        </blockquote>
                    </div>

                    <!-- AlÄ±ntÄ± 3 -->
                    <div class="bg-white p-5 rounded-lg shadow-sm border border-l-4 border-l-emerald-500 border-slate-200">
                        <div class="flex justify-between items-start mb-2">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded text-xs font-semibold bg-emerald-100 text-emerald-800">Tema 3: SÃ¼rdÃ¼rÃ¼lebilirlik ve Toplumsal Etki</span>
                            <span class="text-xs font-bold text-slate-400">KatÄ±lÄ±mcÄ±: Kod Rehberi (CSV)</span>
                        </div>
                        <div class="text-sm font-medium text-slate-800 mb-3">NÃ¶tr Kategori: Enerji Adaleti ve Yerel KatÄ±lÄ±m &nbsp;&gt;&nbsp; <span class="text-slate-500 font-normal">Kod: Yerel HalkÄ±n DÄ±ÅŸlanmasÄ± / KatÄ±lÄ±m EksikliÄŸi</span></div>
                        <blockquote class="italic text-slate-600 border-l-2 border-slate-300 pl-4 py-1 mb-3">
                            "Yenilenebilir enerji projeleri enerji adaleti gÃ¶zetilmeden yapÄ±lÄ±yor. Karar alma sÃ¼reÃ§lerinde yerel halkÄ±n sÃ¶z hakkÄ± olmamasÄ± ve acele kamulaÅŸtÄ±rma kararlarÄ±nÄ±n adaletsizlik yaratmasÄ±..."
                        </blockquote>
                    </div>
                </div>
            </section>

            <!-- TAB 4: METODOLOJÄ° (METHODOLOGY) -->
            <section id="tab-metodoloji" class="tab-content">
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200 prose max-w-none">
                    <h3 class="text-xl font-bold text-slate-800 mb-4">Yeni Kodlama YaklaÅŸÄ±mÄ±nÄ±n GerekÃ§esi</h3>
                    <p class="text-slate-600 mb-4">
                        Gelen soruda belirtilen <em>"2 kodla kategori mi olur? Hemen hemen her kategoride hem paralel hem zÄ±t yÃ¶nde veriler var bende"</em> tespiti, nitel araÅŸtÄ±rmalarÄ±n en kritik kÄ±rÄ±lma noktalarÄ±ndan biridir. 
                    </p>
                    <p class="text-slate-600 mb-4">
                        Ã–nceki yapÄ±da kategoriler "Arz GÃ¼venliÄŸi HegemonyasÄ±" gibi taraf tutan (yargÄ± bildiren) baÅŸlÄ±klardan oluÅŸuyordu. Bu durum, "iklimi Ã¶ncelik gÃ¶ren" zÄ±t verileri bu kategori altÄ±na yerleÅŸtirmeyi imkÃ¢nsÄ±z kÄ±lÄ±yordu.
                    </p>
                    <h4 class="text-lg font-semibold text-slate-800 mt-6 mb-2">Neler DeÄŸiÅŸtirildi?</h4>
                    <ul class="list-disc pl-5 text-slate-600 space-y-2">
                        <li><strong>Kategoriler NÃ¶trleÅŸtirildi:</strong> Ã–rneÄŸin, "Ä°klimin Ä°kinci Plana AtÄ±lmasÄ±" kategorisi silindi. Yerine tamamen nÃ¶tr olan <strong>"Ã–ncelik HiyerarÅŸisi"</strong> kategorisi aÃ§Ä±ldÄ±.</li>
                        <li><strong>ZÄ±tlÄ±klar Kod DÃ¼zeyine Ä°ndirildi:</strong> NÃ¶tr kategorinin (Ã–ncelik HiyerarÅŸisi) altÄ±na; hem <em>"Arz GÃ¼venliÄŸinin BaskÄ±nlÄ±ÄŸÄ±"</em> kodu, hem de zÄ±ttÄ± olan <em>"Ä°klimin Ana Eksen OlmasÄ± GerekliliÄŸi"</em> kodu eklendi.</li>
                        <li><strong>Kod SayÄ±sÄ± ArtÄ±rÄ±ldÄ±:</strong> LiteratÃ¼rdeki doygunluk (saturation) kuralÄ± gereÄŸi, alt baÅŸlÄ±klar zenginleÅŸtirilerek her kategoriye en az 4 kod atandÄ±.</li>
                        <li><strong>Diyalektik YapÄ± Kuruldu:</strong> Tezin bulgularÄ±nÄ± yazarken; "TÃ¼rkiye'nin Ã¶ncelik hiyerarÅŸisinde aktÃ¶rler ikiye bÃ¶lÃ¼nmÃ¼ÅŸtÃ¼r: Bir yanda arz gÃ¼venliÄŸini savunanlar (Kod 1), diÄŸer yanda iklimi merkeze alanlar (Kod 2)" ÅŸeklinde muazzam bir tartÄ±ÅŸma (discussion) yazabilmenizin Ã¶nÃ¼ aÃ§Ä±ldÄ±.</li>
                    </ul>
                </div>
            </section>

        </div>
    </main>

    <!-- JavaScript Data and Logic -->
    <script>
        // --- DATA STRUCTURE (The revised coding framework based on user request) ---
        // Stance Types: 'positive' (Ä°klim odaklÄ±/Ekolojik), 'negative' (Geleneksel/Fosil/Engel), 'neutral' (YapÄ±sal/YÃ¶netiÅŸim), 'pragmatic' (Ekonomik/FÄ±rsatÃ§Ä±)
        const codebookData = [
            {
                themeName: "TEMA 1: ENERJÄ° VE Ä°KLÄ°M SÄ°YASETÄ°NÄ°N Ã–NCELÄ°KLERÄ°",
                categories: [
                    {
                        catName: "Kategori 1.1: Ã–ncelik HiyerarÅŸisi ve Hedef Dengesi",
                        description: "Enerji politikalarÄ± ile iklim hedefleri arasÄ±ndaki dengenin nasÄ±l kurulduÄŸu ve aktÃ¶rlerin Ã¶ncelik sÄ±ralamalarÄ±.",
                        codes: [
                            { name: "Arz GÃ¼venliÄŸi ve Kesintisiz Enerji BaskÄ±nlÄ±ÄŸÄ± (Baz YÃ¼k ArgÃ¼manÄ±)", stance: "negative" },
                            { name: "Ekonomik BÃ¼yÃ¼me, Sanayi ve Ä°stihdam OdaklÄ±lÄ±k", stance: "pragmatic" },
                            { name: "Ä°klim DeÄŸiÅŸikliÄŸi Hedeflerinin Siyasette Ana Eksen OlmasÄ± GerekliliÄŸi", stance: "positive" },
                            { name: "Ä°klim PolitikalarÄ±nÄ±n Geleneksel Enerji PlanlamasÄ±nda Ä°kincil Konumda KalmasÄ±", stance: "negative" },
                            { name: "Fosil YakÄ±t GeniÅŸlemesi ile Ä°klim TaahhÃ¼tleri ArasÄ±ndaki TezatlÄ±k", stance: "neutral" }
                        ]
                    },
                    {
                        catName: "Kategori 1.2: Ä°klim DeÄŸiÅŸikliÄŸinin Ã‡erÃ§eveleniÅŸi (AlgÄ±)",
                        description: "Ä°klim krizinin bir tehdit, fÄ±rsat, maliyet veya araÃ§ olarak nasÄ±l tanÄ±mlandÄ±ÄŸÄ±.",
                        codes: [
                            { name: "Ä°klimin KalkÄ±nma Ã–nÃ¼nde Bir Engel / Risk AlanÄ± Olarak GÃ¶rÃ¼lmesi", stance: "negative" },
                            { name: "Krizi FÄ±rsata Ã‡evirme: Yeni YatÄ±rÄ±m, Finansman ve Teknoloji AlanÄ±", stance: "pragmatic" },
                            { name: "UluslararasÄ± Fonlara (AB vb.) EriÅŸim Ä°Ã§in Ä°klimin AraÃ§sallaÅŸtÄ±rÄ±lmasÄ±", stance: "pragmatic" },
                            { name: "SÃ¶ylemde (Vitrinde) Uyumlu Ancak Pratikte Ã‡eliÅŸkili YaklaÅŸÄ±mlar", stance: "neutral" },
                            { name: "Ä°klimin DÄ±ÅŸ KaynaklÄ± Bir YaptÄ±rÄ±m (SÄ±nÄ±rda Karbon vb.) Olarak Ã‡erÃ§evelenmesi", stance: "pragmatic" }
                        ]
                    }
                ]
            },
            {
                themeName: "TEMA 2: KARAR ALMA SÃœREÃ‡LERÄ°, YÃ–NETÄ°ÅÄ°M VE AKTÃ–RLER",
                categories: [
                    {
                        catName: "Kategori 2.1: Kurumsal YapÄ± ve Yasal Koordinasyon",
                        description: "Devlet iÃ§indeki kurumlar arasÄ± uyum, mevzuat deÄŸiÅŸiklikleri ve yerel-merkezi yÃ¶netim iliÅŸkisi.",
                        codes: [
                            { name: "Kurumlar ArasÄ±nda (BakanlÄ±klar arasÄ±) Politika ve Vizyon Ã‡atÄ±ÅŸmasÄ±", stance: "neutral" },
                            { name: "Mevzuat ve YÃ¶netmeliklerin SÃ¼rekli DeÄŸiÅŸmesinin YarattÄ±ÄŸÄ± Ä°stikrarsÄ±zlÄ±k", stance: "neutral" },
                            { name: "MerkeziyetÃ§i Karar Alma SÃ¼reÃ§leri ve YukarÄ±dan AÅŸaÄŸÄ±ya Politikalar", stance: "negative" },
                            { name: "Yerel YÃ¶netimlerin BÃ¼rokratik Engellerle ve Yetki SÄ±nÄ±rlarÄ±yla KarÅŸÄ±laÅŸmasÄ±", stance: "neutral" },
                            { name: "BÃ¼tÃ¼ncÃ¼l, Tek Sesli ve Entegre Bir Devlet Stratejisine Duyulan Ä°htiyaÃ§", stance: "positive" }
                        ]
                    },
                    {
                        catName: "Kategori 2.2: AktÃ¶rlerin KonumlanÄ±ÅŸÄ± ve MotivasyonlarÄ±",
                        description: "Sivil toplum, iÅŸ dÃ¼nyasÄ± ve bÃ¼rokrasinin konuya farklÄ± yaklaÅŸÄ±m biÃ§imleri.",
                        codes: [
                            { name: "Sivil Toplumun Ekolojik/Ã‡evresel KaygÄ±larÄ± Temel AlmasÄ±", stance: "positive" },
                            { name: "Ä°ÅŸ DÃ¼nyasÄ±nÄ±n Rekabet, Risk YÃ¶netimi ve Ä°hracat (TÃœSÄ°AD) OdaklÄ±lÄ±ÄŸÄ±", stance: "pragmatic" },
                            { name: "BÃ¼rokrasinin StatÃ¼kocu, Enerji ArzÄ± OdaklÄ± ve DirenÃ§li Tutumu", stance: "negative" },
                            { name: "FarklÄ± AktÃ¶rlerin Ortak Dili KonuÅŸamamasÄ± ve Ä°letiÅŸim KopukluÄŸu", stance: "neutral" }
                        ]
                    }
                ]
            },
            {
                themeName: "TEMA 3: SÃœRDÃœRÃœLEBÄ°LÄ°RLÄ°K, ENERJÄ° ADALETÄ° VE TOPLUMSAL ETKÄ°",
                categories: [
                    {
                        catName: "Kategori 3.1: Enerji Adaleti, Demokrasi ve KatÄ±lÄ±m",
                        description: "Projelerin yerel halka etkisi, mÃ¼lkiyet haklarÄ± ve karar alma sÃ¼reÃ§lerine katÄ±lÄ±m.",
                        codes: [
                            { name: "Ã‡ED ve Karar SÃ¼reÃ§lerinde Yerel HalkÄ±n DÄ±ÅŸlanmasÄ± / SÃ¶z HakkÄ± OlmamasÄ±", stance: "negative" },
                            { name: "Enerji YatÄ±rÄ±m Getirilerinin Yerel Topluluklara YansÄ±mamasÄ±", stance: "negative" },
                            { name: "Acele KamulaÅŸtÄ±rma KararlarÄ±nÄ±n YarattÄ±ÄŸÄ± MÃ¼lkiyet ve Adalet SorunlarÄ±", stance: "negative" },
                            { name: "Enerji Kooperatiflerinin ve DaÄŸÄ±tÄ±k Enerji Modellerinin Ä°ÅŸletilememesi", stance: "neutral" },
                            { name: "Yerel HalkÄ±n Talepleriyle YatÄ±rÄ±mcÄ± Ã‡Ä±karlarÄ±nÄ±n Ã‡atÄ±ÅŸmasÄ±", stance: "neutral" }
                        ]
                    },
                    {
                        catName: "Kategori 3.2: Ekolojik Etki ve SÃ¼rdÃ¼rÃ¼lebilirlik AnlayÄ±ÅŸÄ±",
                        description: "Yenilenebilir projelerin doÄŸaya etkisi ve sÃ¼rdÃ¼rÃ¼lebilirlik kavramÄ±nÄ±n iÃ§inin doldurulmasÄ±.",
                        codes: [
                            { name: "Yenilenebilir Projelerin (JES, RÃ¼zgÃ¢r, Ä°letim HatlarÄ±) Ekolojik Tahribat YaratmasÄ±", stance: "negative" },
                            { name: "KalkÄ±nma Hedeflerinin YalnÄ±zca 'Kutu Doldurma' (GÃ¶stermelik) YaklaÅŸÄ±mÄ±yla Ele AlÄ±nmasÄ±", stance: "neutral" },
                            { name: "KÄ±sa Vadeli Ekonomik RantÄ±n, Uzun Vadeli SÃ¼rdÃ¼rÃ¼lebilirliÄŸe Tercih Edilmesi", stance: "negative" },
                            { name: "DoÄŸal VarlÄ±klarÄ±n Korunarak Sonraki Nesillere AktarÄ±lmasÄ± Bilinci", stance: "positive" }
                        ]
                    }
                ]
            }
        ];

        // --- UI RENDERING LOGIC ---
        
        // Tab Switching Function
        function switchTab(tabId) {
            // Update buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.target === tabId) {
                    btn.classList.replace('bg-transparent', 'bg-indigo-600');
                    btn.classList.replace('text-slate-300', 'text-white');
                    btn.classList.add('bg-indigo-600', 'text-white');
                    btn.classList.remove('text-slate-300', 'hover:bg-slate-800');
                } else {
                    btn.classList.replace('bg-indigo-600', 'bg-transparent');
                    btn.classList.add('text-slate-300', 'hover:bg-slate-800');
                    btn.classList.remove('bg-indigo-600', 'text-white');
                }
            });

            // Update content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabId).classList.add('active');

            // Update Header Title based on tab
            const titles = {
                'tab-yapi': "Revize EdilmiÅŸ NÃ¶tr Kodlama Åablonu",
                'tab-dashboard': "Veri EÄŸilimleri ve ZÄ±tlÄ±k Analizi",
                'tab-alintilar': "SÃ¶ylem ve KanÄ±t EÅŸleÅŸmeleri",
                'tab-metodoloji': "Metodolojik DeÄŸerlendirme"
            };
            document.getElementById('page-title').innerText = titles[tabId];

            // Render charts if dashboard tab is opened
            if(tabId === 'tab-dashboard') {
                renderCharts();
            }
        }

        // Color Mapping for Stances
        const stanceStyles = {
            positive: "bg-emerald-50 border-emerald-200 text-emerald-800 border-l-4 border-l-emerald-500", // Ä°klim odaklÄ±
            negative: "bg-rose-50 border-rose-200 text-rose-800 border-l-4 border-l-rose-500", // Geleneksel/Fosil/Engel
            neutral: "bg-slate-100 border-slate-200 text-slate-700 border-l-4 border-l-slate-400", // YapÄ±sal/EleÅŸtirel
            pragmatic: "bg-amber-50 border-amber-200 text-amber-800 border-l-4 border-l-amber-500" // FÄ±rsatÃ§Ä±/Ekonomik
        };

        const stanceLabels = {
            positive: "Ä°klim/Ekoloji OdaklÄ± GÃ¶rÃ¼ÅŸ",
            negative: "Geleneksel/StatÃ¼ko/Fosil GÃ¶rÃ¼ÅŸ",
            neutral: "YapÄ±sal/YÃ¶netiÅŸimsel Tespit",
            pragmatic: "Ekonomik/Pragmatik GÃ¶rÃ¼ÅŸ"
        };

        // Render Codebook
        function renderCodebook() {
            const container = document.getElementById('themes-container');
            let htmlContent = '';

            codebookData.forEach((theme, tIndex) => {
                htmlContent += `
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <div class="bg-slate-800 px-6 py-4">
                            <h2 class="text-lg font-bold text-white">${theme.themeName}</h2>
                        </div>
                        <div class="p-6 space-y-6">
                `;

                theme.categories.forEach((cat, cIndex) => {
                    htmlContent += `
                        <div class="border border-indigo-100 rounded-lg p-5 bg-indigo-50/30">
                            <div class="mb-4">
                                <h3 class="text-md font-bold text-indigo-900">${cat.catName} <span class="text-xs font-normal bg-indigo-100 text-indigo-700 px-2 py-1 rounded ml-2">NÃ¶tr Kategori</span></h3>
                                <p class="text-sm text-slate-500 mt-1">${cat.description}</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3">
                    `;

                    cat.codes.forEach(code => {
                        htmlContent += `
                            <div class="code-card p-3 rounded border ${stanceStyles[code.stance]} text-sm">
                                <div class="font-medium">${code.name}</div>
                                <div class="text-[10px] uppercase tracking-wider mt-2 opacity-75 font-semibold">${stanceLabels[code.stance]}</div>
                            </div>
                        `;
                    });

                    htmlContent += `
                            </div>
                        </div>
                    `;
                });

                htmlContent += `
                        </div>
                    </div>
                `;
            });

            container.innerHTML = htmlContent;
        }

        // --- CHART LOGIC (Chart.js) ---
        let doughnutChartInstance = null;
        let barChartInstance = null;

        function renderCharts() {
            // Data Aggregation
            let counts = { positive: 0, negative: 0, neutral: 0, pragmatic: 0 };
            let catNames = [];
            let catPos = [];
            let catNeg = [];

            codebookData.forEach(theme => {
                theme.categories.forEach(cat => {
                    // For short names in chart
                    let shortName = cat.catName.split(':')[1].trim();
                    catNames.push(shortName);
                    
                    let pCount = 0;
                    let nCount = 0;

                    cat.codes.forEach(code => {
                        counts[code.stance]++;
                        if(code.stance === 'positive') pCount++;
                        if(code.stance === 'negative' || code.stance === 'pragmatic') nCount++; // Grouping pragmatic and negative as "non-climate-centric" for contrast
                    });

                    catPos.push(pCount);
                    catNeg.push(nCount);
                });
            });

            // 1. Doughnut Chart (Overall Distribution)
            const ctxDoughnut = document.getElementById('doughnutChart').getContext('2d');
            if(doughnutChartInstance) doughnutChartInstance.destroy();
            
            doughnutChartInstance = new Chart(ctxDoughnut, {
                type: 'doughnut',
                data: {
                    labels: ['Ä°klim/Ekoloji OdaklÄ±', 'Geleneksel/Fosil OdaÄŸÄ±', 'YapÄ±sal/EleÅŸtirel', 'Ekonomik/Pragmatik'],
                    datasets: [{
                        data: [counts.positive, counts.negative, counts.neutral, counts.pragmatic],
                        backgroundColor: ['#10b981', '#f43f5e', '#94a3b8', '#f59e0b'],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 12, font: {family: "'Inter', sans-serif"} } }
                    }
                }
            });

            // 2. Bar Chart (Category Contrast)
            const ctxBar = document.getElementById('barChart').getContext('2d');
            if(barChartInstance) barChartInstance.destroy();

            barChartInstance = new Chart(ctxBar, {
                type: 'bar',
                data: {
                    labels: catNames,
                    datasets: [
                        {
                            label: 'Ä°klim OdaklÄ± Kod SayÄ±sÄ±',
                            data: catPos,
                            backgroundColor: '#10b981',
                            borderRadius: 4
                        },
                        {
                            label: 'Geleneksel/Fosil/Pragmatik Kod SayÄ±sÄ±',
                            data: catNeg,
                            backgroundColor: '#f43f5e',
                            borderRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { 
                            beginAtZero: true, 
                            ticks: { stepSize: 1 },
                            title: { display: true, text: 'Kod SayÄ±sÄ±' }
                        },
                        x: {
                            ticks: {
                                callback: function(value) {
                                    // Wrap long labels
                                    let label = this.getLabelForValue(value);
                                    if (label.length > 15) {
                                        return label.substr(0, 15) + '...';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 12 } },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    return context[0].label; // Show full label on hover
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize Application
        window.onload = () => {
            renderCodebook();
            // Chart rendering is deferred to when the tab is clicked to ensure container size is computed correctly
        };

    </script>
</body>
</html>
